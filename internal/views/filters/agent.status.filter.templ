package filters

import "github.com/invopop/ctxi18n/i18n"

templ FilterStatus(f AgentFilter, url, target, swap string) {
	<button title="Filter by agent status" type="button">
		if f.EnabledAgents || f.DisabledAgents {
			<uk-icon icon="filter-x" hx-history="false" custom-class="mr-2 h-5 w-5 fill-red-500 text-red-500" uk-cloak></uk-icon>
		} else {
			<uk-icon icon="filter" hx-history="false" custom-class="mr-2 h-5 w-5" uk-cloak></uk-icon>
		}
	</button>
	<div class="uk-drop uk-dropdown" uk-dropdown="mode: click">
		<ul class="uk-dropdown-nav uk-nav">
			<li class="p-2">
				<input
					id="filterByEnabledAgents"
					name="filterByEnabledAgents"
					type="checkbox"
					class="uk-checkbox mx-3"
					hx-post={ url }
					hx-push-url="false"
					hx-target={ target }
					hx-swap={ swap }
					checked?={ f.EnabledAgents }
				/>
				<label for="filterByEnabledAgents">{ i18n.T(ctx, "agents.enabled") }</label>
			</li>
			<li class="p-2">
				<input
					id="filterByDisabledAgents"
					name="filterByDisabledAgents"
					type="checkbox"
					class="uk-checkbox mx-3"
					hx-post={ url }
					hx-push-url="false"
					hx-target={ target }
					x-swap={ swap }
					checked?={ f.DisabledAgents }
				/>
				<label for="filterByDisabledAgents">{ i18n.T(ctx, "agents.disabled") }</label>
			</li>
		</ul>
	</div>
}
